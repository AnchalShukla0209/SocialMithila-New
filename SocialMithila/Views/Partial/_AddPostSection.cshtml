@model  SocialMithila.SharedDataAccess.EFCore.TblUser

<div class="card w-100 shadow-xss rounded-xxl border-0 ps-4 pt-4 pe-4 pb-3 mb-3 mt-3" id="createPostCard">
    <div class="card-body p-0">
        <a href="#" class="font-xssss fw-600 text-grey-500 card-body p-0 d-flex align-items-center">
            <i class="btn-round-sm font-xs text-primary feather-edit-3 me-2 bg-greylight"></i>Create Post
        </a>
    </div>
    <div class="card-body p-0 mt-3 position-relative">
        <figure class="avatar position-absolute ms-2 mt-1 top-5">
            <img src="@Url.Content(Model != null && !string.IsNullOrEmpty(Model.ProfilePhoto)
                    ? Model.ProfilePhoto
                    : "https://cdn-icons-png.flaticon.com/512/149/149071.png")"
                 alt="image" class="shadow-sm rounded-circle w30" id="currentUserAvatar">
        </figure>

        <textarea id="postContent"
                  class="h100 bor-0 w-100 rounded-xxl p-2 ps-5 font-xssss text-grey-500 fw-500 border-light-md theme-dark-bg"
                  cols="30" rows="4"
                  placeholder="What's on your mind?"></textarea>
        <!-- Mention suggestions -->
        <ul class="list-group position-absolute" id="mentionSuggestions"
            style="z-index:2000; display:none; max-height:220px; overflow:auto; background: white"></ul>

        <input type="hidden" id="createUserId" value="@Model?.Id" />
    </div>

    <div class="card-body d-flex p-0 mt-0">
        <label class="d-flex align-items-center font-xssss fw-600 ls-1 text-grey-700 text-dark pe-4 mb-0" style="cursor:pointer;">
            <i class="font-md text-success feather-image me-2"></i>
            <span class="d-none-xs">Photo/Video</span>
            <input id="mediaFiles" name="mediaFiles" type="file" accept="image/*,video/*" multiple style="display:none" />
        </label>

        @*<a href="#" class="d-flex align-items-center font-xssss fw-600 ls-1 text-grey-700 text-dark pe-4" id="btnFeeling">
            <i class="font-md text-warning feather-camera me-2"></i><span class="d-none-xs">Feeling/Activity</span>
        </a>*@

        @*<button id="btnPreviewPost" class="btn btn-outline-secondary btn-sm ms-auto me-2">Preview</button>*@
        <button id="btnSubmitPost" class="btn btn-primary btn-sm ms-auto me-2" style="background: #b7015d !important; color: white; border: 1px solid #b7015d !important ">Post</button>
    </div>

    <!-- preview -->
    <div class="card-body p-0 mt-2" id="previewArea" style="display:none;">
        <div id="mediaPreview" class="d-flex flex-wrap gap-2"></div>
    </div>
</div>



@section scripts {
    <!-- jQuery CDN -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

   

    <!-- Custom create post script -->
    <script src="~/asset/js/CustomJS/CreatePost.js"></script>
}
